import dayjs from "dayjs";
import { z } from "zod";
const dayJs = () => {
  return z.preprocess(
    (arg) => typeof arg == "string" ? dayjs(arg) : void 0,
    z.instanceof(dayjs)
  );
};
const keyboardIdParam = z.object({
  keyboardId: z.coerce.number()
});
const filterQuery = z.object({
  date: z.optional(dayJs()),
  period: z.optional(z.tuple([dayJs(), dayJs()]))
});
function serializeFilterQuery(query) {
  const { date } = query;
  const serializable = {};
  if (query.date) {
    if (dayjs.isDayjs(date)) {
      serializable.date = date.format("YYYY-MM-DD");
    }
  }
  return serializable;
}
const keyboardListBody = z.object({
  keyboards: z.array(
    z.object({
      id: z.number(),
      name: z.string()
    })
  )
});
const keymap = z.object({
  keycode: z.string(),
  type: z.enum(["plain", "mtap", "ltap", "lmod", "layer"]),
  character: z.string().optional()
});
const keymapsBody = z.object({
  keymaps: z.array(z.array(z.array(z.array(keymap))))
});
const datesBody = z.object({
  dates: z.array(z.coerce.date())
});
const keymapUsage = z.array(
  z.array(z.array(z.number().default(0)).default([])).default([])
);
const layerUsage = z.record(z.string(), z.number().default(0));
const rowUsage = z.record(z.string(), z.number().default(0));
const handUsage = z.object({
  0: z.number().default(0),
  1: z.number().default(0)
});
const fingerUsage = z.object({
  0: z.number().default(0),
  1: z.number().default(0),
  2: z.number().default(0),
  3: z.number().default(0),
  4: z.number().default(0),
  5: z.number().default(0),
  6: z.number().default(0),
  7: z.number().default(0),
  8: z.number().default(0),
  9: z.number().default(0)
});
const totalKeypresses = z.number();
const totalCountBody = z.object({
  keymapUsage,
  layerUsage,
  rowUsage,
  handUsage,
  fingerUsage,
  totalKeypresses
});
const character = z.object({
  keycode: z.string(),
  modifiers: z.number(),
  counts: z.number(),
  character: z.string().optional()
});
const characterCountBody = z.object({
  records: z.array(character).default([]),
  totalCharacters: z.number().default(0)
});
const handRepetitions = z.array(z.array(z.number().default(0))).length(2);
const fingerRepetitions = z.array(z.array(z.number().default(0))).length(10);
const repetitionsBody = z.object({
  handRepetitions,
  fingerRepetitions
});
export {
  characterCountBody,
  datesBody,
  filterQuery,
  keyboardIdParam,
  keyboardListBody,
  keymapsBody,
  repetitionsBody,
  serializeFilterQuery,
  totalCountBody
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL2R0by9rZXlib2FyZC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IGRheWpzLCB7IHR5cGUgRGF5anMgfSBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmNvbnN0IGRheUpzID0gKCkgPT4ge1xuICByZXR1cm4gei5wcmVwcm9jZXNzKFxuICAgIChhcmcpID0+ICh0eXBlb2YgYXJnID09IFwic3RyaW5nXCIgPyBkYXlqcyhhcmcpIDogdW5kZWZpbmVkKSxcbiAgICB6Lmluc3RhbmNlb2YoZGF5anMgYXMgdW5rbm93biBhcyB0eXBlb2YgRGF5anMpLFxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGtleWJvYXJkSWRQYXJhbSA9IHoub2JqZWN0KHtcbiAga2V5Ym9hcmRJZDogei5jb2VyY2UubnVtYmVyKCksXG59KTtcblxuZXhwb3J0IHR5cGUgS2V5Ym9hcmRJZFBhcmFtID0gei5pbmZlcjx0eXBlb2Yga2V5Ym9hcmRJZFBhcmFtPjtcblxuZXhwb3J0IGNvbnN0IGZpbHRlclF1ZXJ5ID0gei5vYmplY3Qoe1xuICBkYXRlOiB6Lm9wdGlvbmFsKGRheUpzKCkpLFxuICBwZXJpb2Q6IHoub3B0aW9uYWwoei50dXBsZShbZGF5SnMoKSwgZGF5SnMoKV0pKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBGaWx0ZXJRdWVyeSA9IHouaW5mZXI8dHlwZW9mIGZpbHRlclF1ZXJ5PjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUZpbHRlclF1ZXJ5KFxuICBxdWVyeTogRmlsdGVyUXVlcnksXG4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgY29uc3QgeyBkYXRlIH0gPSBxdWVyeTtcbiAgY29uc3Qgc2VyaWFsaXphYmxlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgaWYgKHF1ZXJ5LmRhdGUpIHtcbiAgICBpZiAoZGF5anMuaXNEYXlqcyhkYXRlKSkge1xuICAgICAgc2VyaWFsaXphYmxlLmRhdGUgPSBkYXRlLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNlcmlhbGl6YWJsZTtcbn1cblxuZXhwb3J0IGNvbnN0IGtleWJvYXJkTGlzdEJvZHkgPSB6Lm9iamVjdCh7XG4gIGtleWJvYXJkczogei5hcnJheShcbiAgICB6Lm9iamVjdCh7XG4gICAgICBpZDogei5udW1iZXIoKSxcbiAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICksXG59KTtcblxuZXhwb3J0IHR5cGUgS2V5Ym9hcmRMaXN0Qm9keSA9IHouaW5mZXI8dHlwZW9mIGtleWJvYXJkTGlzdEJvZHk+O1xuXG5jb25zdCBrZXltYXAgPSB6Lm9iamVjdCh7XG4gIGtleWNvZGU6IHouc3RyaW5nKCksXG4gIHR5cGU6IHouZW51bShbXCJwbGFpblwiLCBcIm10YXBcIiwgXCJsdGFwXCIsIFwibG1vZFwiLCBcImxheWVyXCJdKSxcbiAgY2hhcmFjdGVyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgS2V5bWFwID0gei5pbmZlcjx0eXBlb2Yga2V5bWFwPjtcblxuZXhwb3J0IGNvbnN0IGtleW1hcHNCb2R5ID0gei5vYmplY3Qoe1xuICBrZXltYXBzOiB6LmFycmF5KHouYXJyYXkoei5hcnJheSh6LmFycmF5KGtleW1hcCkpKSksXG59KTtcblxuZXhwb3J0IHR5cGUgS2V5bWFwc0JvZHkgPSB6LmluZmVyPHR5cGVvZiBrZXltYXBzQm9keT47XG5cbmV4cG9ydCBjb25zdCBkYXRlc0JvZHkgPSB6Lm9iamVjdCh7XG4gIGRhdGVzOiB6LmFycmF5KHouY29lcmNlLmRhdGUoKSksXG59KTtcblxuZXhwb3J0IHR5cGUgRGF0ZXNCb2R5ID0gei5pbmZlcjx0eXBlb2YgZGF0ZXNCb2R5PjtcblxuY29uc3Qga2V5bWFwVXNhZ2UgPSB6LmFycmF5KFxuICB6LmFycmF5KHouYXJyYXkoei5udW1iZXIoKS5kZWZhdWx0KDApKS5kZWZhdWx0KFtdKSkuZGVmYXVsdChbXSksXG4pO1xuY29uc3QgbGF5ZXJVc2FnZSA9IHoucmVjb3JkKHouc3RyaW5nKCksIHoubnVtYmVyKCkuZGVmYXVsdCgwKSk7XG5jb25zdCByb3dVc2FnZSA9IHoucmVjb3JkKHouc3RyaW5nKCksIHoubnVtYmVyKCkuZGVmYXVsdCgwKSk7XG5jb25zdCBoYW5kVXNhZ2UgPSB6Lm9iamVjdCh7XG4gIDA6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgMTogei5udW1iZXIoKS5kZWZhdWx0KDApLFxufSk7XG5jb25zdCBmaW5nZXJVc2FnZSA9IHoub2JqZWN0KHtcbiAgMDogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICAxOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIDI6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgMzogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICA0OiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIDU6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgNjogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICA3OiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIDg6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgOTogei5udW1iZXIoKS5kZWZhdWx0KDApLFxufSk7XG5jb25zdCB0b3RhbEtleXByZXNzZXMgPSB6Lm51bWJlcigpO1xuXG5leHBvcnQgdHlwZSBLZXltYXBVc2FnZSA9IHouaW5mZXI8dHlwZW9mIGtleW1hcFVzYWdlPjtcbmV4cG9ydCB0eXBlIExheWVyVXNhZ2UgPSB6LmluZmVyPHR5cGVvZiBsYXllclVzYWdlPjtcbmV4cG9ydCB0eXBlIFJvd1VzYWdlID0gei5pbmZlcjx0eXBlb2Ygcm93VXNhZ2U+O1xuZXhwb3J0IHR5cGUgSGFuZFVzYWdlID0gei5pbmZlcjx0eXBlb2YgaGFuZFVzYWdlPjtcbmV4cG9ydCB0eXBlIEZpbmdlclVzYWdlID0gei5pbmZlcjx0eXBlb2YgZmluZ2VyVXNhZ2U+O1xuXG5leHBvcnQgY29uc3QgdG90YWxDb3VudEJvZHkgPSB6Lm9iamVjdCh7XG4gIGtleW1hcFVzYWdlOiBrZXltYXBVc2FnZSxcbiAgbGF5ZXJVc2FnZTogbGF5ZXJVc2FnZSxcbiAgcm93VXNhZ2U6IHJvd1VzYWdlLFxuICBoYW5kVXNhZ2U6IGhhbmRVc2FnZSxcbiAgZmluZ2VyVXNhZ2U6IGZpbmdlclVzYWdlLFxuICB0b3RhbEtleXByZXNzZXM6IHRvdGFsS2V5cHJlc3Nlcyxcbn0pO1xuXG5leHBvcnQgdHlwZSBUb3RhbENvdW50Qm9keSA9IHouaW5mZXI8dHlwZW9mIHRvdGFsQ291bnRCb2R5PjtcblxuY29uc3QgY2hhcmFjdGVyID0gei5vYmplY3Qoe1xuICBrZXljb2RlOiB6LnN0cmluZygpLFxuICBtb2RpZmllcnM6IHoubnVtYmVyKCksXG4gIGNvdW50czogei5udW1iZXIoKSxcbiAgY2hhcmFjdGVyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgQ2hhcmFjdGVyID0gei5pbmZlcjx0eXBlb2YgY2hhcmFjdGVyPjtcblxuZXhwb3J0IGNvbnN0IGNoYXJhY3RlckNvdW50Qm9keSA9IHoub2JqZWN0KHtcbiAgcmVjb3Jkczogei5hcnJheShjaGFyYWN0ZXIpLmRlZmF1bHQoW10pLFxuICB0b3RhbENoYXJhY3RlcnM6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBDaGFyYWN0ZXJDb3VudEJvZHkgPSB6LmluZmVyPHR5cGVvZiBjaGFyYWN0ZXJDb3VudEJvZHk+O1xuXG5jb25zdCBoYW5kUmVwZXRpdGlvbnMgPSB6LmFycmF5KHouYXJyYXkoei5udW1iZXIoKS5kZWZhdWx0KDApKSkubGVuZ3RoKDIpO1xuZXhwb3J0IHR5cGUgSGFuZFJlcGV0aXRpb25zID0gei5pbmZlcjx0eXBlb2YgaGFuZFJlcGV0aXRpb25zPjtcblxuY29uc3QgZmluZ2VyUmVwZXRpdGlvbnMgPSB6LmFycmF5KHouYXJyYXkoei5udW1iZXIoKS5kZWZhdWx0KDApKSkubGVuZ3RoKDEwKTtcbmV4cG9ydCB0eXBlIEZpbmdlclJlcGV0aXRpb25zID0gei5pbmZlcjx0eXBlb2YgZmluZ2VyUmVwZXRpdGlvbnM+O1xuXG5leHBvcnQgY29uc3QgcmVwZXRpdGlvbnNCb2R5ID0gei5vYmplY3Qoe1xuICBoYW5kUmVwZXRpdGlvbnM6IGhhbmRSZXBldGl0aW9ucyxcbiAgZmluZ2VyUmVwZXRpdGlvbnM6IGZpbmdlclJlcGV0aXRpb25zLFxufSk7XG5cbmV4cG9ydCB0eXBlIFJlcGV0aXRpb25zQm9keSA9IHouaW5mZXI8dHlwZW9mIHJlcGV0aXRpb25zQm9keT47XG4iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxPQUFPLFdBQTJCO0FBQ2xDLFNBQVMsU0FBUztBQUVsQixNQUFNLFFBQVEsTUFBTTtBQUNsQixTQUFPLEVBQUU7QUFBQSxJQUNQLENBQUMsUUFBUyxPQUFPLE9BQU8sV0FBVyxNQUFNLEdBQUcsSUFBSTtBQUFBLElBQ2hELEVBQUUsV0FBVyxLQUFnQztBQUFBLEVBQy9DO0FBQ0Y7QUFFTyxNQUFNLGtCQUFrQixFQUFFLE9BQU87QUFBQSxFQUN0QyxZQUFZLEVBQUUsT0FBTyxPQUFPO0FBQzlCLENBQUM7QUFJTSxNQUFNLGNBQWMsRUFBRSxPQUFPO0FBQUEsRUFDbEMsTUFBTSxFQUFFLFNBQVMsTUFBTSxDQUFDO0FBQUEsRUFDeEIsUUFBUSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDaEQsQ0FBQztBQUlNLFNBQVMscUJBQ2QsT0FDd0I7QUFDeEIsUUFBTSxFQUFFLEtBQUssSUFBSTtBQUNqQixRQUFNLGVBQXVDLENBQUM7QUFFOUMsTUFBSSxNQUFNLE1BQU07QUFDZCxRQUFJLE1BQU0sUUFBUSxJQUFJLEdBQUc7QUFDdkIsbUJBQWEsT0FBTyxLQUFLLE9BQU8sWUFBWTtBQUFBLElBQzlDO0FBQUEsRUFDRjtBQUVBLFNBQU87QUFDVDtBQUVPLE1BQU0sbUJBQW1CLEVBQUUsT0FBTztBQUFBLEVBQ3ZDLFdBQVcsRUFBRTtBQUFB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
