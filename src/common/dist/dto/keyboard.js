import dayjs from "dayjs";
import { z } from "zod";
const dayJs = () => {
  return z.preprocess(
    (arg) => typeof arg == "string" ? dayjs(arg) : void 0,
    z.instanceof(dayjs)
  );
};
const keyboardIdParam = z.object({
  keyboardId: z.coerce.number()
});
const filterQuery = z.object({
  date: z.optional(dayJs())
});
function serializeFilterQuery(query) {
  const { date } = query;
  const serializable = {};
  if (query.date) {
    if (dayjs.isDayjs(date)) {
      serializable.date = date.format("YYYY-MM-DD");
    }
  }
  return serializable;
}
const keyboardListBody = z.object({
  keyboards: z.array(
    z.object({
      id: z.number(),
      name: z.string()
    })
  )
});
const keymap = z.object({
  keycode: z.string(),
  type: z.enum(["plain", "mtap", "ltap", "lmod", "layer"]),
  character: z.string().optional()
});
const keymapsBody = z.object({
  keymaps: z.array(z.array(z.array(z.array(keymap))))
});
const datesBody = z.object({
  dates: z.array(z.coerce.date())
});
const keymapUsage = z.array(
  z.array(z.array(z.number().default(0)).default([])).default([])
);
const layerUsage = z.record(z.string(), z.number().default(0));
const rowUsage = z.record(z.string(), z.number().default(0));
const handUsage = z.object({
  0: z.number().default(0),
  1: z.number().default(0)
});
const fingerUsage = z.object({
  0: z.number().default(0),
  1: z.number().default(0),
  2: z.number().default(0),
  3: z.number().default(0),
  4: z.number().default(0),
  5: z.number().default(0),
  6: z.number().default(0),
  7: z.number().default(0),
  8: z.number().default(0),
  9: z.number().default(0)
});
const totalKeypresses = z.number();
const totalCountBody = z.object({
  keymapUsage,
  layerUsage,
  rowUsage,
  handUsage,
  fingerUsage,
  totalKeypresses
});
const character = z.object({
  keycode: z.string(),
  modifiers: z.number(),
  counts: z.number(),
  character: z.string().optional()
});
const characterCountBody = z.object({
  records: z.array(character).default([]),
  totalCharacters: z.number().default(0)
});
const handRepetitions = z.array(z.array(z.number().default(0))).length(2);
const fingerRepetitions = z.array(z.array(z.number().default(0))).length(10);
const repetitionsBody = z.object({
  handRepetitions,
  fingerRepetitions
});
export {
  characterCountBody,
  datesBody,
  filterQuery,
  keyboardIdParam,
  keyboardListBody,
  keymapsBody,
  repetitionsBody,
  serializeFilterQuery,
  totalCountBody
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL2R0by9rZXlib2FyZC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IGRheWpzLCB7IHR5cGUgRGF5anMgfSBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmNvbnN0IGRheUpzID0gKCkgPT4ge1xuICByZXR1cm4gei5wcmVwcm9jZXNzKFxuICAgIChhcmcpID0+ICh0eXBlb2YgYXJnID09IFwic3RyaW5nXCIgPyBkYXlqcyhhcmcpIDogdW5kZWZpbmVkKSxcbiAgICB6Lmluc3RhbmNlb2YoZGF5anMgYXMgdW5rbm93biBhcyB0eXBlb2YgRGF5anMpLFxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGtleWJvYXJkSWRQYXJhbSA9IHoub2JqZWN0KHtcbiAga2V5Ym9hcmRJZDogei5jb2VyY2UubnVtYmVyKCksXG59KTtcblxuZXhwb3J0IHR5cGUgS2V5Ym9hcmRJZFBhcmFtID0gei5pbmZlcjx0eXBlb2Yga2V5Ym9hcmRJZFBhcmFtPjtcblxuZXhwb3J0IGNvbnN0IGZpbHRlclF1ZXJ5ID0gei5vYmplY3Qoe1xuICBkYXRlOiB6Lm9wdGlvbmFsKGRheUpzKCkpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEZpbHRlclF1ZXJ5ID0gei5pbmZlcjx0eXBlb2YgZmlsdGVyUXVlcnk+O1xuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRmlsdGVyUXVlcnkoXG4gIHF1ZXJ5OiBGaWx0ZXJRdWVyeSxcbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCB7IGRhdGUgfSA9IHF1ZXJ5O1xuICBjb25zdCBzZXJpYWxpemFibGU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICBpZiAocXVlcnkuZGF0ZSkge1xuICAgIGlmIChkYXlqcy5pc0RheWpzKGRhdGUpKSB7XG4gICAgICBzZXJpYWxpemFibGUuZGF0ZSA9IGRhdGUuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VyaWFsaXphYmxlO1xufVxuXG5leHBvcnQgY29uc3Qga2V5Ym9hcmRMaXN0Qm9keSA9IHoub2JqZWN0KHtcbiAga2V5Ym9hcmRzOiB6LmFycmF5KFxuICAgIHoub2JqZWN0KHtcbiAgICAgIGlkOiB6Lm51bWJlcigpLFxuICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBLZXlib2FyZExpc3RCb2R5ID0gei5pbmZlcjx0eXBlb2Yga2V5Ym9hcmRMaXN0Qm9keT47XG5cbmNvbnN0IGtleW1hcCA9IHoub2JqZWN0KHtcbiAga2V5Y29kZTogei5zdHJpbmcoKSxcbiAgdHlwZTogei5lbnVtKFtcInBsYWluXCIsIFwibXRhcFwiLCBcImx0YXBcIiwgXCJsbW9kXCIsIFwibGF5ZXJcIl0pLFxuICBjaGFyYWN0ZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBLZXltYXAgPSB6LmluZmVyPHR5cGVvZiBrZXltYXA+O1xuXG5leHBvcnQgY29uc3Qga2V5bWFwc0JvZHkgPSB6Lm9iamVjdCh7XG4gIGtleW1hcHM6IHouYXJyYXkoei5hcnJheSh6LmFycmF5KHouYXJyYXkoa2V5bWFwKSkpKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBLZXltYXBzQm9keSA9IHouaW5mZXI8dHlwZW9mIGtleW1hcHNCb2R5PjtcblxuZXhwb3J0IGNvbnN0IGRhdGVzQm9keSA9IHoub2JqZWN0KHtcbiAgZGF0ZXM6IHouYXJyYXkoei5jb2VyY2UuZGF0ZSgpKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBEYXRlc0JvZHkgPSB6LmluZmVyPHR5cGVvZiBkYXRlc0JvZHk+O1xuXG5jb25zdCBrZXltYXBVc2FnZSA9IHouYXJyYXkoXG4gIHouYXJyYXkoei5hcnJheSh6Lm51bWJlcigpLmRlZmF1bHQoMCkpLmRlZmF1bHQoW10pKS5kZWZhdWx0KFtdKSxcbik7XG5jb25zdCBsYXllclVzYWdlID0gei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKS5kZWZhdWx0KDApKTtcbmNvbnN0IHJvd1VzYWdlID0gei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKS5kZWZhdWx0KDApKTtcbmNvbnN0IGhhbmRVc2FnZSA9IHoub2JqZWN0KHtcbiAgMDogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICAxOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG59KTtcbmNvbnN0IGZpbmdlclVzYWdlID0gei5vYmplY3Qoe1xuICAwOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIDE6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgMjogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICAzOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIDQ6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgNTogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICA2OiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gIDc6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgODogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICA5OiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG59KTtcbmNvbnN0IHRvdGFsS2V5cHJlc3NlcyA9IHoubnVtYmVyKCk7XG5cbmV4cG9ydCB0eXBlIEtleW1hcFVzYWdlID0gei5pbmZlcjx0eXBlb2Yga2V5bWFwVXNhZ2U+O1xuZXhwb3J0IHR5cGUgTGF5ZXJVc2FnZSA9IHouaW5mZXI8dHlwZW9mIGxheWVyVXNhZ2U+O1xuZXhwb3J0IHR5cGUgUm93VXNhZ2UgPSB6LmluZmVyPHR5cGVvZiByb3dVc2FnZT47XG5leHBvcnQgdHlwZSBIYW5kVXNhZ2UgPSB6LmluZmVyPHR5cGVvZiBoYW5kVXNhZ2U+O1xuZXhwb3J0IHR5cGUgRmluZ2VyVXNhZ2UgPSB6LmluZmVyPHR5cGVvZiBmaW5nZXJVc2FnZT47XG5cbmV4cG9ydCBjb25zdCB0b3RhbENvdW50Qm9keSA9IHoub2JqZWN0KHtcbiAga2V5bWFwVXNhZ2U6IGtleW1hcFVzYWdlLFxuICBsYXllclVzYWdlOiBsYXllclVzYWdlLFxuICByb3dVc2FnZTogcm93VXNhZ2UsXG4gIGhhbmRVc2FnZTogaGFuZFVzYWdlLFxuICBmaW5nZXJVc2FnZTogZmluZ2VyVXNhZ2UsXG4gIHRvdGFsS2V5cHJlc3NlczogdG90YWxLZXlwcmVzc2VzLFxufSk7XG5cbmV4cG9ydCB0eXBlIFRvdGFsQ291bnRCb2R5ID0gei5pbmZlcjx0eXBlb2YgdG90YWxDb3VudEJvZHk+O1xuXG5jb25zdCBjaGFyYWN0ZXIgPSB6Lm9iamVjdCh7XG4gIGtleWNvZGU6IHouc3RyaW5nKCksXG4gIG1vZGlmaWVyczogei5udW1iZXIoKSxcbiAgY291bnRzOiB6Lm51bWJlcigpLFxuICBjaGFyYWN0ZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBDaGFyYWN0ZXIgPSB6LmluZmVyPHR5cGVvZiBjaGFyYWN0ZXI+O1xuXG5leHBvcnQgY29uc3QgY2hhcmFjdGVyQ291bnRCb2R5ID0gei5vYmplY3Qoe1xuICByZWNvcmRzOiB6LmFycmF5KGNoYXJhY3RlcikuZGVmYXVsdChbXSksXG4gIHRvdGFsQ2hhcmFjdGVyczogei5udW1iZXIoKS5kZWZhdWx0KDApLFxufSk7XG5cbmV4cG9ydCB0eXBlIENoYXJhY3RlckNvdW50Qm9keSA9IHouaW5mZXI8dHlwZW9mIGNoYXJhY3RlckNvdW50Qm9keT47XG5cbmNvbnN0IGhhbmRSZXBldGl0aW9ucyA9IHouYXJyYXkoei5hcnJheSh6Lm51bWJlcigpLmRlZmF1bHQoMCkpKS5sZW5ndGgoMik7XG5leHBvcnQgdHlwZSBIYW5kUmVwZXRpdGlvbnMgPSB6LmluZmVyPHR5cGVvZiBoYW5kUmVwZXRpdGlvbnM+O1xuXG5jb25zdCBmaW5nZXJSZXBldGl0aW9ucyA9IHouYXJyYXkoei5hcnJheSh6Lm51bWJlcigpLmRlZmF1bHQoMCkpKS5sZW5ndGgoMTApO1xuZXhwb3J0IHR5cGUgRmluZ2VyUmVwZXRpdGlvbnMgPSB6LmluZmVyPHR5cGVvZiBmaW5nZXJSZXBldGl0aW9ucz47XG5cbmV4cG9ydCBjb25zdCByZXBldGl0aW9uc0JvZHkgPSB6Lm9iamVjdCh7XG4gIGhhbmRSZXBldGl0aW9uczogaGFuZFJlcGV0aXRpb25zLFxuICBmaW5nZXJSZXBldGl0aW9uczogZmluZ2VyUmVwZXRpdGlvbnMsXG59KTtcblxuZXhwb3J0IHR5cGUgUmVwZXRpdGlvbnNCb2R5ID0gei5pbmZlcjx0eXBlb2YgcmVwZXRpdGlvbnNCb2R5PjtcbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBLE9BQU8sV0FBMkI7QUFDbEMsU0FBUyxTQUFTO0FBRWxCLE1BQU0sUUFBUSxNQUFNO0FBQ2xCLFNBQU8sRUFBRTtBQUFBLElBQ1AsQ0FBQyxRQUFTLE9BQU8sT0FBTyxXQUFXLE1BQU0sR0FBRyxJQUFJO0FBQUEsSUFDaEQsRUFBRSxXQUFXLEtBQWdDO0FBQUEsRUFDL0M7QUFDRjtBQUVPLE1BQU0sa0JBQWtCLEVBQUUsT0FBTztBQUFBLEVBQ3RDLFlBQVksRUFBRSxPQUFPLE9BQU87QUFDOUIsQ0FBQztBQUlNLE1BQU0sY0FBYyxFQUFFLE9BQU87QUFBQSxFQUNsQyxNQUFNLEVBQUUsU0FBUyxNQUFNLENBQUM7QUFDMUIsQ0FBQztBQUlNLFNBQVMscUJBQ2QsT0FDd0I7QUFDeEIsUUFBTSxFQUFFLEtBQUssSUFBSTtBQUNqQixRQUFNLGVBQXVDLENBQUM7QUFFOUMsTUFBSSxNQUFNLE1BQU07QUFDZCxRQUFJLE1BQU0sUUFBUSxJQUFJLEdBQUc7QUFDdkIsbUJBQWEsT0FBTyxLQUFLLE9BQU8sWUFBWTtBQUFBLElBQzlDO0FBQUEsRUFDRjtBQUVBLFNBQU87QUFDVDtBQUVPLE1BQU0sbUJBQW1CLEVBQUUsT0FBTztBQUFBLEVBQ3ZDLFdBQVcsRUFBRTtBQUFBLElBQ1gsRUFBRSxPQUFPO0FBQUEsTUFDUCxJQUFJLEVBQUUsT0FBTztBQUFBLE1BQ2IsTUFBTSxFQUFFLE9BQU87QUFBQSxJQUNqQixDQUFDO0FBQUEsRUFDSDtBQUNGLENBQUM7QUFJRCxNQUFNLFNBQVMsRUFBRSxP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
